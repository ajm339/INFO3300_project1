<html>
	<head>
		<title>Project 1</title>
		<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
		<script src="http://fb.me/react-0.9.0.min.js"></script>
		<script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
	</head>

	<body>
		<h1>Project 1</h1>
		<div id='spot'></div>


		<script>
        
        var posts = [];

		var stuff = {
			coolstuff: function(x){posts = posts.concat(x.data.children);},
			test: 'hey',
			hello: function(){return "hello world";}
		}
        
        function processChunk(chunk){//takes a chunk of reddit data and pulls the info we want from it
        
        
        }
        
		var RedditData = React.createClass({
			doFunction:function(x) {
				console.log(x);
			},
		    loadRedditDataFromServer: function() {
		    	var fuck = this.state.reddit_data;
		        $.ajax({
		            url: this.props.url,
		            type: 'GET',
		            success: function(data) {
		            	this.setState({reddit_data: data});
		            	stuff.coolstuff(this.state.reddit_data);
		            }.bind(this)
		        });
		    },
		    getInitialState: function() {
		        return {reddit_data: []};
		    },
		    componentWillMount: function() {
		      this.loadRedditDataFromServer();
		      setInterval(this.loadRedditDataFromServer, this.props.pollInterval);
		    },
		    render: function() {
		        return (
		          React.DOM.div(
		            {className: 'new_reddit_data',
		            children: [this.state.reddit_data]
		            })
		        );
		    }
		});

	    
	    React.renderComponent(
	        RedditData({url:'http://www.reddit.com/new/.json', pollInterval: '120000'}),  document.getElementById('spot')
	    );
				// var fuck = '';
				// $.ajax({
		  //           url: 'http://www.reddit.com/new/.json',
		  //           type: 'GET',
		  //           success: function(data) {
		  //           	fuck = data;
		  //           	console.log(fuck);
		  //           }.bind(this)
		  //       });

			

	    
		</script>
	</body>
</html>